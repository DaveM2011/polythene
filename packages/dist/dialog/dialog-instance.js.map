{"version":3,"sources":["../../src/src/dialog/dialog-instance.js"],"names":["CSS_CLASSES","block","visible","body","fullscreen","content","header","footer","footerHigh","title","actions","hasBackdrop","hasTopOverflow","hasBottomOverflow","menuContent","SCROLL_WATCH_TIMER","updateScrollState","ctrl","scroller","scrollEl","topOverflow","scrollTop","bottomOverflow","scrollHeight","getBoundingClientRect","height","updateFooterState","footerEl","style","window","getComputedStyle","minHeight","parseInt","classList","add","remove","show","opts","id","instanceId","isTransitioning","el","showClass","then","didShow","hide","didHide","setTimeout","redraw","createViewContent","bodyOpts","menu","class","config","inited","onscroll","isScrolling","clearTimeout","scrollWatchId","createView","updateContentOnScroll","ignoreContent","tag","update","props","backdrop","borders","join","context","vdom","cleanup","unsubscribe","handleEscape","e","modal","which","hideDelay","subscribe","onunload","onclick","target","formOptions","subtree","z","animated","headerHeight","footerHeight","before","after","component","controller","instanceData","undefined","view"],"mappings":"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","file":"dialog-instance.js","sourcesContent":["import '../common/object.assign';\nimport events from '../common/events';\nimport m from 'mithril';\nimport dialog from './dialog';\nimport transition from '../common/transition';\nimport shadow from '../shadow/shadow';\nimport './theme';\n\nconst CSS_CLASSES = {\n    block: 'pe-dialog',\n    visible: 'pe-dialog--visible',\n    body: 'pe-dialog__body',\n    fullscreen: 'pe-dialog--fullscreen',\n    content: 'pe-dialog__content',\n    header: 'pe-dialog__header',\n    footer: 'pe-dialog__footer',\n    footerHigh: 'pe-dialog__footer--high',\n    title: 'pe-dialog__title',\n    actions: 'pe-dialog__actions',\n    hasBackdrop: 'pe-dialog--backdrop',\n    hasTopOverflow: 'pe-dialog--overflow-top',\n    hasBottomOverflow: 'pe-dialog--overflow-bottom',\n    menuContent: 'pe-menu__content'\n};\n\nconst SCROLL_WATCH_TIMER = 150;\n\nconst updateScrollState = (ctrl) => {\n    const scroller = ctrl.scrollEl;\n    if (!scroller) {\n        return;\n    }\n    ctrl.topOverflow = (scroller.scrollTop > 0);\n    ctrl.bottomOverflow = (scroller.scrollHeight - (scroller.scrollTop + scroller.getBoundingClientRect().height) > 0);\n};\n\nconst updateFooterState = (ctrl) => {\n    const footerEl = ctrl.footerEl;\n    if (footerEl) {\n        const style = window.getComputedStyle(footerEl);\n        const height = footerEl.getBoundingClientRect().height;\n        const minHeight = parseInt(style.minHeight, 10);\n        if (height > minHeight) {\n            footerEl.classList.add(CSS_CLASSES.footerHigh);\n        } else {\n            footerEl.classList.remove(CSS_CLASSES.footerHigh);\n        }\n    }\n};\n\nconst show = (ctrl, opts) => {\n    const id = ctrl.instanceId;\n    ctrl.isTransitioning = true;\n    return transition.show(Object.assign({}, opts, {\n        el: ctrl.el,\n        showClass: CSS_CLASSES.visible\n    })).then(() => {\n        ctrl.isTransitioning = false;\n        ctrl.visible = true;\n        if (ctrl.didShow) {\n            // notify multiple\n            ctrl.didShow(id);\n            // this will call opts.didShow\n        }\n    });\n};\n\nconst hide = (ctrl, opts) => {\n    const id = ctrl.instanceId;\n    ctrl.isTransitioning = true;\n    return transition.hide(Object.assign({}, opts, {\n        el: ctrl.el,\n        showClass: CSS_CLASSES.visible\n    })).then(() => {\n        dialog.remove(id);\n        ctrl.isTransitioning = false;\n        ctrl.visible = false;\n        if (ctrl.didHide) {\n            // notify multiple\n            ctrl.didHide(id);\n            // this will call opts.didHide\n        }\n        setTimeout(m.redraw, 0); // removes remainder of drawn component\n    });\n};\n\nconst createViewContent = (ctrl, opts) => {\n    // if flex \"self-stretch\" is not supported, calculate the maximum height\n    let style = {};\n    const bodyOpts = opts.body || opts.menu;\n\n    return m('div', {\n        class: CSS_CLASSES.body,\n        style: style,\n        config: (el, inited) => {\n            if (inited) {\n                return;\n            }\n            ctrl.scrollEl = el;\n        },\n        onscroll: () => {\n            ctrl.isScrolling = true;\n            updateScrollState(ctrl);\n\n            clearTimeout(ctrl.scrollWatchId);\n            ctrl.scrollWatchId = setTimeout(() => {\n                ctrl.isScrolling = false;\n            }, SCROLL_WATCH_TIMER);\n        }\n    }, bodyOpts);\n};\n\nconst createView = (ctrl, opts = {}) => {\n    const bodyOpts = opts.body || opts.menu;\n    const updateContentOnScroll = opts.updateContentOnScroll || false;\n    const ignoreContent = !updateContentOnScroll && ctrl.isScrolling;\n    const tag = opts.tag || 'form';\n\n    const update = () => {\n        updateScrollState(ctrl);\n        updateFooterState(ctrl);\n        m.redraw();\n    };\n\n    const props = Object.assign({}, {\n        class: [\n            CSS_CLASSES.block,\n            (opts.fullscreen ? CSS_CLASSES.fullscreen : null),\n            (opts.backdrop ? CSS_CLASSES.hasBackdrop : null),\n            (ctrl.topOverflow || opts.borders ? CSS_CLASSES.hasTopOverflow : null),\n            (ctrl.bottomOverflow || opts.borders ? CSS_CLASSES.hasBottomOverflow : null),\n            ctrl.visible ? CSS_CLASSES.visible : null,\n            opts.class\n        ].join(' '),\n        id: opts.id || '',\n        config: (el, inited, context, vdom) => {\n            if (inited) {\n                return;\n            }\n            if (opts.config) {\n                opts.config(el, inited, context, vdom);\n            }\n            ctrl.el = el;\n\n            const cleanup = () => {\n                events.unsubscribe('resize', update);\n                events.unsubscribe('keydown', handleEscape);\n            };\n\n            const handleEscape = (e) => {\n                if (opts.fullscreen || opts.modal) return;\n                if (e.which === 27) {\n                    cleanup();\n                    hide(ctrl, Object.assign({}, opts, {hideDelay: 0}));\n                }\n            };\n\n            // resize: update scroll state ('overflow' borders)\n            events.subscribe('resize', update);\n            events.subscribe('keydown', handleEscape);\n\n            context.onunload = () => {\n                cleanup();\n            };\n\n            updateScrollState(ctrl);\n            updateFooterState(ctrl);\n\n            show(ctrl, opts).then(() => {\n                updateScrollState(ctrl);\n                updateFooterState(ctrl);\n                if (ctrl.topOverflow || ctrl.bottomOverflow) {\n                    setTimeout(m.redraw, 0);\n                }\n            });\n        },\n        // click backdrop: close dialog\n        onclick: (e) => {\n            if (e.target !== ctrl.el) {\n                return;\n            }\n            if (opts.modal) {\n                // not allowed\n                return;\n            }\n            if (!ctrl.isTransitioning) {\n                hide(ctrl, Object.assign({}, opts, {hideDelay: 0}));\n            }\n        }\n    }, opts.formOptions ? opts.formOptions : null);\n\n    const body = bodyOpts ? (ignoreContent ? {\n        subtree: 'retain'\n    } : createViewContent(ctrl, opts)) : null;\n\n    const content = m('div', {\n        class: [CSS_CLASSES.content, (opts.menu ? CSS_CLASSES.menuContent : null)].join(' ')\n    }, [\n        opts.fullscreen ? null : m(shadow, {\n            z: ctrl.z,\n            animated: true\n        }),\n        opts.fullscreen ? null : opts.title ? m('div', {\n            class: CSS_CLASSES.header,\n            config: (el) => {\n                ctrl.headerHeight = el.scrollHeight;\n            }\n        }, [\n            m('div', {class: CSS_CLASSES.title}, opts.title)\n        ]) : null,\n        body,\n        opts.fullscreen ? null : opts.footer ? m('div', {\n            class: CSS_CLASSES.footer,\n            config: (el, inited) => {\n                ctrl.footerHeight = el.scrollHeight;\n                if (inited) {\n                    return;\n                }\n                ctrl.footerEl = el;\n            }\n        }, [\n            m('div', {class: CSS_CLASSES.actions}, opts.footer)\n        ]) : null\n    ]);\n    return m(tag, props, [opts.before, content, opts.after]);\n};\n\nconst component = {\n    controller: (instanceData = {}) => {\n        // instanceData contains {id, opts}\n        const opts = instanceData.opts || {};\n        let z = (opts.z !== undefined) ? opts.z : 3; // shadow depth\n        return Object.assign({}, instanceData, {\n            instanceId: instanceData.instanceId,\n            z: z,\n            scrollEl: null,\n            footerEl: null,\n            topOverflow: false,\n            bottomOverflow: false,\n            scrollWatchId: 0,\n            isScrolling: false,\n            headerHeight: 0,\n            footerHeight: 0,\n            el: null,\n            visible: false,\n            isTransitioning: false\n        });\n    },\n    view: (ctrl, instanceData) => {\n        // instanceData contains {id, opts}\n        const opts = (typeof instanceData.opts === 'function')\n            ? instanceData.opts()\n            : instanceData.opts;\n        if (instanceData.hide && !ctrl.isTransitioning) {\n            hide(ctrl, opts);\n        }\n        return createView(ctrl, opts);\n    }\n};\n\nexport default component;\n"]}