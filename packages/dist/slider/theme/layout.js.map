{"version":3,"sources":["../../../src/src/slider/theme/layout.js"],"names":["positionBorder","thumbSize","borderWidth","width","height","left","top","createStyles","config","Math","max","thumb_size","thumb_border_width","scaledThumbDiff","active_thumb_scale","barOffset","scaledBorderWidth","thumbTouchSize","thumb_touch_size","stepsOffset","vendorize","prefixes_user_select","track_height","layoutHorizontal","flexGrow","defaultTransition","animation_duration","position","margin","side_spacing","outline","horizontal_layout_side_spacing","selfCenter","content","fit","unit_icon_size","font_weight_medium","flex","bar_height","overflow","layoutJustified","step_width","prefixes_transform","pin_width","pin_height","color","pin_font_size","active_pin_thumb_scale","cursor","disabled_thumb_scale"],"mappings":"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","file":"layout.js","sourcesContent":["import common from 'polythene/config/config';\nimport mixin from '../../common/mixin';\nimport flex from '../../layout/theme/flex';\n\nconst positionBorder = (thumbSize, borderWidth) => ({\n    'border-width': borderWidth + 'px',\n    width: (thumbSize - 2 * borderWidth) + 'px',\n    height: (thumbSize - 2 * borderWidth) + 'px',\n    left: '2px',\n    top: '2px'\n});\n\nconst createStyles = (config) => {\n    const thumbSize = Math.max(config.thumb_size, 2 * config.thumb_border_width);\n    const scaledThumbDiff = (config.active_thumb_scale - 1) * thumbSize / 2;\n    const barOffset = (thumbSize / 2);\n    const scaledBorderWidth = Math.max(1, config.thumb_border_width / config.active_thumb_scale);\n    const thumbTouchSize = config.thumb_touch_size;\n    const stepsOffset = barOffset - 1;\n\n    return [{\n        '.pe-slider': [\n            mixin.vendorize({\n                'user-select': 'none'\n            }, common.prefixes_user_select),\n            {\n                height: config.height + 'px',\n                'margin-top': ((config.height - config.track_height) / 2) + 'px ',\n\n                ' > .pe-icon': {\n                    height: config.height + 'px'\n                },\n\n                ' .pe-slider__track': [\n                    flex.layoutHorizontal,\n                    flex.flexGrow(1),\n                    mixin.defaultTransition('transform', config.animation_duration),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select),\n                    {\n                        position: 'relative',\n                        height: config.track_height + 'px',\n                        margin: '0 ' + config.side_spacing + 'px',\n                        outline: 0\n                    }\n                ],\n                ' div + .pe-slider__track': {\n                    margin: '0 ' + config.horizontal_layout_side_spacing + 'px'\n                },\n\n                ' .pe-slider__control': [\n                    flex.selfCenter,\n                    mixin.defaultTransition('transform, background', config.animation_duration),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select), {\n                        width: thumbSize + 'px',\n                        height: thumbSize + 'px',\n                        'line-height': 0,\n                        'border-radius': '50%',\n                        outline: 0,\n                        'z-index': 1,\n                        position: 'relative',\n\n                        // touch area\n                        '&:before': [\n                            mixin.defaultTransition('background-color', config.animation_duration),\n                            {\n                                content: '\"\"',\n                                position: 'absolute',\n                                'border-radius': '50%',\n                                left: (-thumbTouchSize/2 + thumbSize/2) + 'px',\n                                top: (-thumbTouchSize/2 + thumbSize/2) + 'px',\n                                width: thumbTouchSize + 'px',\n                                height: thumbTouchSize + 'px'\n                            }\n                        ],\n\n                        // border\n                        '&:after': [\n                            mixin.defaultTransition('border', config.animation_duration),\n                            positionBorder(thumbSize, config.thumb_border_width),\n                            {\n                                content: '\"\"',\n                                position: 'absolute',\n                                'border-radius': '50%',\n                                'border-style': 'solid'\n                            }\n                        ]\n                    }\n                ],\n\n                ' .pe-slider__thumb': [\n                    mixin.defaultTransition('opacity', config.animation_duration),\n                    mixin.fit(),\n                    {\n                        '&, .pe-icon': {\n                            width: 'inherit',\n                            height: 'inherit'\n                        }\n                    }\n                ],\n\n                ' .pe-slider__label': {\n                    height: config.height + 'px',\n                    'line-height': config.height + 'px',\n                    'min-width': common.unit_icon_size + 'px',\n                    'text-align': 'center',\n                    'font-size': '16px',\n                    'font-weight': common.font_weight_medium\n                },\n\n                ' .pe-slider__track-part': [\n                    flex.flex(),\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select),\n                    {\n                        height: config.bar_height + 'px',\n                        margin: ((config.track_height - config.bar_height) / 2) + 'px 0px',\n                        overflow: 'hidden' // Firefox otherwise uses 6x at 0%\n                    }\n                ],\n\n                ' .pe-slider__track-value, .pe-slider__track-rest': flex.layoutHorizontal,\n\n                ' .pe-slider__track-bar': [\n                    flex.flex(),\n                    {\n                        position: 'relative',\n                        overflow: 'hidden'\n                    }\n                ],\n                ' .pe-slider__track-bar-value': [\n                    flex.flex(),\n                    mixin.defaultTransition('transform, background-color', config.animation_duration), {\n                        height: config.bar_height + 'px'\n                    }\n                ],\n                ' .pe-slider__track-value .pe-slider__track-bar': {\n                    'margin-left': barOffset + 'px'\n                },\n                ' .pe-slider__track-rest .pe-slider__track-bar': {\n                    'margin-right': barOffset + 'px'\n                },\n\n                ' .pe-slider__ticks': [\n                    flex.layoutJustified,\n                    mixin.vendorize({\n                        'user-select': 'none'\n                    }, common.prefixes_user_select), {\n                        position: 'absolute',\n                        width: 'calc(100% - ' + (2 * stepsOffset) + 'px)',\n                        height: config.bar_height + 'px',\n                        left: 0,\n                        top: ((config.height / 2) - 1) + 'px',\n                        margin: '0 ' + stepsOffset + 'px',\n                        'pointer-events': 'none'\n                    }\n                ],\n\n                ' .pe-slider__ticks-tick': {\n                    width: config.step_width + 'px',\n                    height: config.bar_height + 'px'\n                },\n\n                ' .pe-slider__pin': [\n                    mixin.vendorize({\n                        'transform': 'translateZ(0) scale(0) translate(0, 0)'\n                    }, common.prefixes_transform),\n                    mixin.vendorize({\n                        'transform-origin': 'bottom'\n                    }, common.prefixes_transform),\n                    mixin.defaultTransition('transform', '.11s'), {\n                        position: 'absolute',\n                        'z-index': 1,\n                        width: config.pin_width + 'px',\n                        height: 0,\n                        left: 0, // set in js\n                        top: 0,\n                        'margin': '0 ' + stepsOffset + 'px 0 ' + (stepsOffset - config.pin_width/2 + 1) + 'px',\n                        'pointer-events': 'none',\n\n                        '&::before': [\n                            mixin.vendorize({\n                                'transform': 'rotate(-45deg)'\n                            }, common.prefixes_transform), {\n                                content: '\" \"',\n                                position: 'absolute',\n                                top: 0,\n                                left: 0,\n                                width: config.pin_width + 'px',\n                                height: config.pin_width + 'px',\n                                'border-radius': '50% 50% 50% 0',\n                                'background-color': 'inherit'\n                            }\n                        ],\n                        '&::after': {\n                            content: 'attr(value)',\n                            position: 'absolute',\n                            top: 0,\n                            left: 0,\n                            width: config.pin_width + 'px',\n                            height: config.pin_height + 'px',\n                            'text-align': 'center',\n                            color: '#fff',\n                            'font-size': config.pin_font_size + 'px',\n                            'line-height': config.pin_width + 'px'\n                        }\n                    }\n                ],\n\n                '&.pe-slider--active:not(.pe-slider--ticks)': {\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.active_thumb_scale + ')'\n                        }, common.prefixes_transform),\n                        {\n                            'border-width': scaledBorderWidth + 'px'\n                        }\n                    ],\n                    // left side\n                    ' .pe-slider__track-value .pe-slider__track-bar-value': [\n                        mixin.vendorize({\n                            'transform': 'translateX(' + (-scaledThumbDiff) + 'px)'\n                        }, common.prefixes_transform)\n                    ],\n                    // right side\n                    ' .pe-slider__track-rest .pe-slider__track-bar-value': [\n                        mixin.vendorize({\n                            'transform': 'translateX(' + (scaledThumbDiff) + 'px)'\n                        }, common.prefixes_transform)\n                    ]\n                },\n\n                '&.pe-slider--pin.pe-slider--active, &.pe-slider--pin.pe-slider--focus': {\n                    ' .pe-slider__pin': [\n                        mixin.vendorize({\n                            'transform': 'translateZ(0) scale(1) translate(0, -24px)'\n                        }, common.prefixes_transform)\n                    ],\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.active_pin_thumb_scale + ')'\n                        }, common.prefixes_transform)\n                    ]\n                },\n\n                '&:not(.pe-slider--disabled)': {\n                    ' .pe-slider__control': {\n                        cursor: 'pointer'\n                    },\n                    '&.pe-slider--track': {\n                        ' .pe-slider__track': {\n                            cursor: 'pointer'\n                        }\n                    }\n                },\n\n                '&.pe-slider--disabled': {\n                    ' .pe-slider__control': [\n                        mixin.vendorize({\n                            'transform': 'scale(' + config.disabled_thumb_scale + ')'\n                        }, common.prefixes_transform), {\n                            'border-width': 0\n                        }\n                    ],\n                    '&.pe-slider--min': {\n                        ' .pe-slider__control:after': [\n                            positionBorder(thumbSize, 1 / config.disabled_thumb_scale * config.thumb_border_width)\n                        ]\n                    }\n                }\n            }\n        ]\n    }];\n};\n\nexport default (config) => (mixin.createStyles(config, createStyles));\n"]}