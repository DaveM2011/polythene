{"version":3,"sources":["../../../src/src/switch/theme/layout.js"],"names":["transition","config","properties","duration","animation_duration","defaultTransition","customSize","size","factor","unit_icon_size","thumbSize","Math","floor","thumb_size","scaledTrackHeight","track_height","scaledTrackWidth","track_length","scaledThumbSize","trackTop","label_height","thumbPadding","icon_button_padding","thumbMargin","thumbOuterSize","thumbOffsetMin","thumbOffsetMax","thumbOffsetY","trackVisualOffset","height","padding","left","width","top","position","margin","fit","createStyles","color","outline","unit_icon_size_small","unit_icon_size_medium","unit_icon_size_large"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,aAAa,SAAbA,UAAa,CAACC,MAAD,EAASC,UAAT,EAA8D;AAAA,QAAzCC,QAAyC,uEAA9BF,OAAOG,kBAAuB;;AAC7E,WAAO,CACH,gBAAMC,iBAAN,CAAwBH,UAAxB,EAAoCC,QAApC,EAA8C,UAA9C,CADG,CAAP;AAGH,CAJD;;AAMA,IAAMG,aAAa,SAAbA,UAAa,CAACL,MAAD,EAASM,IAAT,EAAkB;AACjC,QAAMC,SAASD,OAAO,iBAAOE,cAA7B;AACA,QAAMC,YAAYC,KAAKC,KAAL,CAAW,MAAMX,OAAOY,UAAb,GAA0BL,MAArC,IAA+C,CAAjE,CAFiC,CAEmC;AACpE,QAAMM,oBAAoBH,KAAKC,KAAL,CAAW,MAAMX,OAAOc,YAAb,GAA4BP,MAAvC,IAAiD,CAA3E,CAHiC,CAG6C;AAC9E,QAAMQ,mBAAmBL,KAAKC,KAAL,CAAW,MAAMX,OAAOgB,YAAb,GAA4BT,MAAvC,IAAiD,CAA1E;AACA,QAAMU,kBAAkBP,KAAKC,KAAL,CAAW,MAAMX,OAAOY,UAAb,GAA0BL,MAArC,IAA+C,CAAvE;AACA,QAAMW,WAAY,CAAClB,OAAOmB,YAAP,GAAsBZ,MAAtB,GAA+BM,iBAAhC,IAAqD,CAAvE;AACA,QAAMO,eAAepB,OAAOqB,mBAA5B;AACA,QAAMC,cAAc,CAAChB,OAAOW,eAAR,IAA2B,CAA/C;AACA,QAAMM,iBAAiBjB,OAAO,IAAIc,YAAlC;AACA,QAAMI,iBAAiB,EAAED,iBAAiB,CAAnB,IAAyBd,YAAY,CAA5D;AACA,QAAMgB,iBAAiBD,iBAAiBT,gBAAjB,GAAoCN,SAA3D;AACA,QAAMiB,eAAeF,iBAAiBF,WAAtC;AACA,QAAMK,oBAAoB,GAA1B,CAbiC,CAaF;;AAE/B,WAAO;AACH,+BAAuB;AACnBC,oBAAQtB,OAAO,IADI;AAEnB,yBAAaS,mBAAmB,IAFb;;AAInB,qBAAS;AACL,gCAAiBf,OAAO6B,OAAP,GAAiBtB,MAAjB,GAA0B,CAA1B,GAA8BQ,gBAA/B,GAAmD;AAD9D;AAJU,SADpB;AASH,uCAA+B;AAC3Be,kBAAMH,oBAAoB,IADC;AAE3BC,oBAAQf,oBAAoB,IAFD;AAG3BkB,mBAAQhB,mBAAmB,IAAIY,iBAAxB,GAA6C,IAHzB;AAI3BK,iBAAKd,WAAW,IAJW;AAK3B,6BAAiBL,oBAAoB;AALV,SAT5B;AAgBH,uCAA+B;AAC3BmB,iBAAKN,eAAe,IADO;AAE3BI,kBAAMN,iBAAiB,IAFI;AAG3B,uBAAW;AAHgB,SAhB5B;;AAsBH,sCAA8B;AAC1BS,sBAAU,UADgB;AAE1BF,mBAAOd,kBAAkB,IAFC;AAG1BW,oBAAQX,kBAAkB,IAHA;AAI1B,6BAAiB,KAJS;AAK1BiB,oBAAQZ,cAAc;AALI,SAtB3B;;AA8BH,8BAAsB;AAClB,0CAA8B;AAC1B,6BAAa,CACT,gBAAMa,GAAN,EADS,EAET;AACIJ,2BAAO,MADX;AAEIH,4BAAQ;AAFZ,iBAFS;AADa;AADZ,SA9BnB;;AA0CH,4BAAoB;AAChB,2CAA+B;AAC3BE,sBAAML,iBAAiB;AADI;AADf;AA1CjB,KAAP;AAgDH,CA/DD;;AAiEA,IAAMW,eAAe,SAAfA,YAAe,CAACpC,MAAD,EAAY;AAC7B,WAAO,CAAC,sBAAsBA,MAAtB,EAA8B,qBAA9B,EAAqD,UAArD,CAAD,EAAmE;AACtE,+BAAuB;;AAEnB,2CAA+B,CAC3BD,WAAWC,MAAX,EAAmB,qBAAnB,CAD2B,EAE3B;AACIiC,0BAAU,UADd;AAEIH,sBAAM;AAFV,aAF2B,CAFZ;;AAUnB,2CAA+B,CAC3B/B,WAAWC,MAAX,EAAmB,aAAnB,CAD2B,EAE3B;AACIiC,0BAAU,UADd;AAEII,uBAAO,SAFX;;AAII,0BAAU;AACNC,6BAAS;AADH;AAJd,aAF2B,CAVZ;;AAsBnB,kCAAsB,CAClBvC,WAAWC,MAAX,EAAmB,KAAnB,CADkB,CAtBH;;AA0BnB,mCAAuBK,WAAWL,MAAX,EAAmB,iBAAOuC,oBAA1B,CA1BJ;AA2BnB,qCAAyBlC,WAAWL,MAAX,EAAmB,iBAAOQ,cAA1B,CA3BN;AA4BnB,oCAAwBH,WAAWL,MAAX,EAAmB,iBAAOwC,qBAA1B,CA5BL;AA6BnB,mCAAuBnC,WAAWL,MAAX,EAAmB,iBAAOyC,oBAA1B;AA7BJ;AAD+C,KAAnE,CAAP;AAiCH,CAlCD;;kBAoCe,UAACzC,MAAD;AAAA,WAAa,gBAAMoC,YAAN,CAAmBpC,MAAnB,EAA2BoC,YAA3B,CAAb;AAAA,C","file":"layout.js","sourcesContent":["import common from 'polythene/config/config';\nimport mixin from '../../common/mixin';\nimport selectionControlStyle from '../../selection-control/theme/layout';\n\nconst transition = (config, properties, duration = config.animation_duration) => {\n    return [\n        mixin.defaultTransition(properties, duration, 'ease-out')\n    ];\n};\n\nconst customSize = (config, size) => {\n    const factor = size / common.unit_icon_size;\n    const thumbSize = Math.floor(0.5 * config.thumb_size * factor) * 2; // round to even\n    const scaledTrackHeight = Math.floor(0.5 * config.track_height * factor) * 2; // round to even\n    const scaledTrackWidth = Math.floor(0.5 * config.track_length * factor) * 2;\n    const scaledThumbSize = Math.floor(0.5 * config.thumb_size * factor) * 2;\n    const trackTop = ((config.label_height * factor - scaledTrackHeight) / 2);\n    const thumbPadding = config.icon_button_padding;\n    const thumbMargin = (size - scaledThumbSize) / 2;\n    const thumbOuterSize = size + 2 * thumbPadding;\n    const thumbOffsetMin = -(thumbOuterSize / 2) + (thumbSize / 2);\n    const thumbOffsetMax = thumbOffsetMin + scaledTrackWidth - thumbSize;\n    const thumbOffsetY = thumbOffsetMin + thumbMargin;\n    const trackVisualOffset = 0.3; // prevent sub pixel of track to shine through knob border\n\n    return {\n        ' .pe-control__label': {\n            height: size + 'px',\n            'min-width': scaledTrackWidth + 'px',\n\n            ' span': {\n                'padding-left': (config.padding * factor + 8 + scaledTrackWidth) + 'px'\n            }\n        },\n        ' .pe-control--switch__track': {\n            left: trackVisualOffset + 'px', \n            height: scaledTrackHeight + 'px',\n            width: (scaledTrackWidth - 2 * trackVisualOffset) + 'px',\n            top: trackTop + 'px',\n            'border-radius': scaledTrackHeight + 'px'\n        },\n        ' .pe-control--switch__thumb': {\n            top: thumbOffsetY + 'px',\n            left: thumbOffsetMin + 'px',\n            'z-index': 1\n        },\n\n        ' .pe-control--switch__knob': {\n            position: 'relative',\n            width: scaledThumbSize + 'px',\n            height: scaledThumbSize + 'px',\n            'border-radius': '50%',\n            margin: thumbMargin + 'px'\n        },\n\n        ' .pe-button__label': {\n            ' .pe-control--switch__knob': {\n                ' .pe-icon': [\n                    mixin.fit(),\n                    {\n                        width: '100%',\n                        height: '100%'\n                    }\n                ]\n            }\n        },\n\n        '&.pe-control--on': {\n            ' .pe-control--switch__thumb': {\n                left: thumbOffsetMax + 'px'\n            }\n        }\n    };\n};\n\nconst createStyles = (config) => {\n    return [selectionControlStyle(config, '.pe-control--switch', 'checkbox'), {\n        '.pe-control--switch': {\n\n            ' .pe-control--switch__track': [\n                transition(config, 'background, opacity'),\n                {\n                    position: 'absolute',\n                    left: 0\n                }\n            ],\n\n            ' .pe-control--switch__thumb': [\n                transition(config, 'left, color'),\n                {\n                    position: 'absolute',\n                    color: 'inherit',\n\n                    ':focus': {\n                        outline: 0\n                    }\n                }\n            ],\n\n            ' .pe-button__focus': [\n                transition(config, 'all')\n            ],\n\n            '&.pe-control--small': customSize(config, common.unit_icon_size_small),\n            '&.pe-control--regular': customSize(config, common.unit_icon_size),\n            '&.pe-control--medium': customSize(config, common.unit_icon_size_medium),\n            '&.pe-control--large': customSize(config, common.unit_icon_size_large)\n        }\n    }];\n};\n\nexport default (config) => (mixin.createStyles(config, createStyles));\n"]}