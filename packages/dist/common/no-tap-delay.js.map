{"version":3,"sources":["../../src/src/common/no-tap-delay.js"],"names":["layer","document","body","throttleDelay","reInitDelay","fastClick","timeoutId","enabled","remove","destroy","add","handleScroll","window","clearTimeout","setTimeout","init","isTouch","subscribe"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAMA,QAAQC,SAASC,IAAvB;AACA,IAAMC,gBAAgB,GAAtB;AACA,IAAMC,cAAcD,gBAAgB,EAApC;AACA,IAAIE,kBAAJ;AACA,IAAIC,kBAAJ;AACA,IAAIC,gBAAJ;;AAEA,IAAMC,SAAS,SAATA,MAAS,GAAM;AACjB,QAAID,OAAJ,EAAa;AACTF,kBAAUI,OAAV;AACAF,kBAAU,KAAV;AACH;AACJ,CALD;;AAOA,IAAMG,MAAM,SAANA,GAAM,GAAM;AACd,QAAI,CAACH,OAAL,EAAc;AACVF,oBAAY,wBAAcL,KAAd,CAAZ;AACAO,kBAAU,IAAV;AACH;AACJ,CALD;;AAOA,IAAMI,eAAe,SAAfA,YAAe,GAAM;AACvBH;AACA,QAAIF,SAAJ,EAAe;AACXM,eAAOC,YAAP,CAAoBP,SAApB;AACH;AACDA,gBAAYM,OAAOE,UAAP,CAAkBJ,GAAlB,EAAuBN,WAAvB,CAAZ;AACH,CAND;;AAQA,IAAMW,OAAO,SAAPA,IAAO,GAAM;AACf,QAAI,oBAAEC,OAAN,EAAe;AACX,yBAAOC,SAAP,CAAiB,QAAjB,EAA2BN,YAA3B,EAAyCR,aAAzC;AACAO;AACH;AACJ,CALD;;AAOAK;;kBAEe;AACXL,SAAKA,GADM;AAEXF,YAAQA;AAFG,C","file":"no-tap-delay.js","sourcesContent":["import FastClick from 'fastclick';\nimport p from '../polythene/polythene';\nimport events from './events';\n\nconst layer = document.body;\nconst throttleDelay = 150;\nconst reInitDelay = throttleDelay + 50;\nlet fastClick;\nlet timeoutId;\nlet enabled;\n\nconst remove = () => {\n    if (enabled) {\n        fastClick.destroy();\n        enabled = false;\n    }\n};\n\nconst add = () => {\n    if (!enabled) {\n        fastClick = new FastClick(layer);\n        enabled = true;\n    }\n};\n\nconst handleScroll = () => {\n    remove();\n    if (timeoutId) {\n        window.clearTimeout(timeoutId);\n    }\n    timeoutId = window.setTimeout(add, reInitDelay);\n};\n\nconst init = () => {\n    if (p.isTouch) {\n        events.subscribe('scroll', handleScroll, throttleDelay);\n        add();\n    }\n};\n\ninit();\n\nexport default {\n    add: add,\n    remove: remove\n};\n"]}